<canvas id="canvas" width="1500" height="700" style="border:1px solid #000000;">
</canvas>
<script>
var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
ctx.beginPath();
ctx.arc(95, 50, 40, 0, 2 * Math.PI);
ctx.stroke();
</script>
<script>
function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

function addVectors(vec1,vec2) {
	return [vec1[0] + vec2[0],vec1[1] + vec2[1]]
}

function vectorLengthTo(vec) {
	const length = Math.sqrt((vec[0] ** 2) + (vec[1] ** 2))
	return [vec[0] / length,vec[1] / length]
}

function gravityCenter(loc) {
	const center = [Math.ceil(width / 2),Math.ceil(height / 2)]
	const gravityVector = [center[0] - loc[0],center[1] - loc[1]]
	let gravityVectorNew = vectorLengthTo(gravityVector)
	const gravityDistance = Math.sqrt((gravityVector[0] ** 2) + (gravityVector[1] ** 2))
	gravityVectorNew = [0.8 ** gravityDistance * gravityVectorNew[0],0.8 ** gravityDistance * gravityVectorNew[1]]
	return gravityVectorNew
}

let location = [350,100]
let inertia = [0.8,0]

async function orbit() {
	for(i = 0; i < 50; i++) {
		await sleep(150)
		inertia = addVectors(inertia,gravityCenter(location))
		location = addVectors(location,inertia)
		showLocation = [Math.round(location[0]),Math.round(location[1])]
		var planet = document.getElementById('canvas');
		var ctx = planet.getContext('2d');
		ctx.beginPath();
		ctx.arc(95, 50, 40, 0, 2 * Math.PI);
		ctx.stroke();
	}
}

orbit()
</script>
